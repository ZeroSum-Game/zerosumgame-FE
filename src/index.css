/* [Initial Survival] 픽셀 폰트 import 및 유틸리티 클래스 정의 시작 */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

@layer utilities {
  .font-pixel {
    font-family: 'Press Start 2P', system-ui, cursive;
  }
}

/* [Initial Survival] 픽셀 폰트 설정 끝 */

@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes fadeOutUp {
  0% {
    opacity: 0;
    transform: translate(-50%, 10px);
  }

  20% {
    opacity: 1;
    transform: translate(-50%, -10px);
  }

  80% {
    opacity: 1;
    transform: translate(-50%, -10px);
  }

  100% {
    opacity: 0;
    transform: translate(-50%, -30px);
  }
}

.fade-out-up {
  animation: fadeOutUp 2s ease-out forwards;
}

@keyframes glowPulse {
  0% {
    filter: drop-shadow(0 0 2px rgba(250, 204, 21, 0.5));
    transform: scale(1);
  }

  50% {
    filter: drop-shadow(0 0 8px rgba(250, 204, 21, 0.8));
    transform: scale(1.1);
  }

  100% {
    filter: drop-shadow(0 0 2px rgba(250, 204, 21, 0.5));
    transform: scale(1);
  }
}

.golden-key-anim {
  animation: glowPulse 2s infinite ease-in-out;
}

/* Tax Payment Animations */
@keyframes money-fly-out {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(var(--tx, 0), -120px) scale(0.3);
    opacity: 0;
  }
}

.money-particle {
  --tx: calc((var(--random, 0.5) - 0.5) * 200px);
}

.tax-payment-button:active {
  animation: tax-button-shake 0.3s ease-in-out;
}

@keyframes tax-button-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-4px); }
  50% { transform: translateX(4px); }
  75% { transform: translateX(-4px); }
}


@layer base {
  html {
    color-scheme: dark;
  }

  body {
    @apply text-white antialiased;
  }
}

@layer components {
  .ui-page {
    @apply relative min-h-screen w-full overflow-hidden;
  }

  .ui-bg-blobs {
    @apply pointer-events-none absolute inset-0 overflow-hidden;
  }

  .ui-blob {
    @apply absolute h-80 w-80 rounded-full blur-3xl;
  }

  .ui-card {
    @apply rounded-2xl border border-white/10 bg-white/[0.06] p-6 shadow-card backdrop-blur-xl;
  }

  .ui-card-sm {
    @apply rounded-2xl border border-white/10 bg-white/[0.06] p-4 shadow-card backdrop-blur-xl;
  }

  .ui-card-lg {
    @apply rounded-2xl border border-white/10 bg-white/[0.06] p-8 shadow-card-lg backdrop-blur-xl;
  }

  .ui-input {
    @apply w-full rounded-xl border border-white/10 bg-white/[0.05] px-4 py-3 text-white placeholder-white/30 outline-none transition;
    @apply focus-visible:border-sky-400/70 focus-visible:ring-4 focus-visible:ring-sky-400/15;
  }

  .ui-btn {
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-5 py-3 font-semibold text-white transition;
    @apply focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-sky-400/20;
    @apply disabled:cursor-not-allowed disabled:opacity-50;
  }

  .ui-btn-primary {
    @apply bg-gradient-to-r from-sky-600 to-indigo-500 shadow-lg shadow-sky-500/20;
    @apply hover:from-sky-500 hover:to-indigo-400;
  }

  .ui-btn-secondary {
    @apply border border-white/[0.15] bg-white/10 hover:bg-white/[0.15];
  }

  .ui-btn-success {
    @apply bg-emerald-600 hover:bg-emerald-500;
  }

  .ui-btn-cta {
    @apply bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 text-slate-950;
    @apply shadow-lg shadow-amber-400/20 hover:from-amber-300 hover:via-yellow-200 hover:to-amber-300;
  }

  .ui-btn-danger {
    @apply border border-red-400/25 bg-red-500/[0.15] text-red-100 hover:bg-red-500/25;
  }

  .ui-badge {
    @apply inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-3 py-1 text-xs font-medium;
  }

  .ui-badge-success {
    @apply border-emerald-400/25 bg-emerald-500/[0.15] text-emerald-200;
  }

  .ui-badge-warn {
    @apply border-amber-300/25 bg-amber-400/[0.15] text-amber-200;
  }

  .ui-icon-btn {
    @apply inline-flex h-9 w-9 items-center justify-center rounded-lg border border-white/10 bg-white/10 text-white transition;
    @apply hover:bg-white/[0.15] focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-sky-400/20;
  }

  .ui-chip {
    @apply inline-flex items-center rounded-lg border border-white/10 bg-black/50 px-2 py-1 text-[11px] font-semibold text-white shadow-lg shadow-black/40 backdrop-blur;
  }

  .ui-panel {
    @apply pointer-events-auto w-72 rounded-2xl border border-white/[0.15] bg-black/[0.45] p-4 shadow-[0_20px_80px_-40px_rgba(0, 0, 0, 0.9)] backdrop-blur-xl;
  }

  .ui-panel-sm {
    @apply pointer-events-auto w-72 rounded-2xl border border-white/[0.15] bg-black/[0.45] p-3 shadow-[0_20px_80px_-40px_rgba(0, 0, 0, 0.9)] backdrop-blur-xl;
  }

  .ui-modal-backdrop {
    @apply pointer-events-auto fixed inset-0 bg-black/60 backdrop-blur-sm;
    z-index: 2147483646;
  }

  .ui-modal {
    @apply pointer-events-auto fixed left-1/2 top-1/2 w-[92vw] max-w-[28rem] -translate-x-1/2 -translate-y-1/2;
    @apply rounded-2xl border border-white/[0.15] bg-black/70 p-6 backdrop-blur-2xl;
    box-shadow: 0 30px 140px -60px rgba(0, 0, 0, 0.95);
    z-index: 2147483647;
  }

  .ui-modal-wide {
    width: min(94vw, 46rem);
  }

  .ui-modal-war {
    width: min(100vw, 56rem);
    max-height: min(90vh, 46rem);
    padding: 2.5rem;
  }

  .ui-modal-minigame {
    width: min(96vw, 64rem);
    max-height: min(92vh, 48rem);
    padding: 2.25rem;
  }

  .ui-modal-space {
    width: min(100vw, 70rem);
    max-height: 95vh;
    padding: 3rem 3rem 2.5rem;
  }

  .space-travel-grid {
    max-height: 380px;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  }

  .war-fight-avatar {
    @apply flex h-52 w-52 items-center justify-center rounded-full border border-white/20 bg-black/30;
    box-shadow: 0 0 40px rgba(255, 255, 255, 0.25);
  }

  .war-fight-left {
    animation: war-fight-left 0.9s ease-in-out infinite;
  }

  .war-fight-right {
    animation: war-fight-right 0.9s ease-in-out infinite;
  }

  .war-fight-vs {
    @apply flex h-12 w-12 items-center justify-center rounded-full border border-amber-300/40 bg-amber-500/10;
    animation: war-fight-vs 0.8s ease-in-out infinite;
  }

  .ui-earth-bg {
    @apply absolute inset-0;
    background-image:
      radial-gradient(1200px 700px at 50% 30%, rgba(255, 255, 255, 0.10), transparent 60%),
      linear-gradient(180deg, rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.40)),
      url('/earth-bg.svg');
    background-size: cover;
    background-position: center;
    filter: saturate(1.15) contrast(1.05);
    transform: scale(1.04);
  }

  @keyframes war-fight-left {
    0%, 100% { transform: translateX(-6px) rotate(-3deg); }
    50% { transform: translateX(6px) rotate(3deg); }
  }

  @keyframes war-fight-right {
    0%, 100% { transform: translateX(6px) rotate(3deg); }
    50% { transform: translateX(-6px) rotate(-3deg); }
  }

  @keyframes war-fight-vs {
    0%, 100% { transform: scale(0.96); box-shadow: 0 0 12px rgba(251, 191, 36, 0.35); }
    50% { transform: scale(1.08); box-shadow: 0 0 20px rgba(251, 191, 36, 0.55); }
  }

  .ui-earth-bg::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
      radial-gradient(800px 480px at 50% 55%, rgba(0, 0, 0, 0.0), rgba(0, 0, 0, 0.55)),
      radial-gradient(1200px 700px at 50% 50%, rgba(0, 0, 0, 0.0), rgba(0, 0, 0, 0.75));
    pointer-events: none;
  }

  /* --- Game dashboard (2D) --- */
  .dash-page {
    min-height: 100vh;
    width: 100%;
    background:
      radial-gradient(1200px 800px at 40% 20%, rgba(99, 102, 241, 0.10), transparent 60%),
      radial-gradient(1000px 700px at 80% 60%, rgba(16, 185, 129, 0.08), transparent 55%),
      linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.00)),
      #0B0F1A;
    color: rgba(241, 245, 249, 0.92);
  }

  .dash-layout {
    height: 100vh;
    width: 100vw;
    display: grid;
    grid-template-columns: 320px minmax(0, 1fr) 360px;
    gap: 14px;
    padding: 14px;
    box-sizing: border-box;
  }

  .dash-panel {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    background: rgba(10, 14, 28, 0.62);
    box-shadow: 0 30px 120px -80px rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(14px);
    overflow: hidden;
  }

  .dash-panel-body {
    height: 100%;
    overflow: auto;
    padding: 14px;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .dash-center {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, 0.06);
    background: rgba(255, 255, 255, 0.01);
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @media (max-width: 1180px) {
    .dash-layout {
      grid-template-columns: 300px minmax(0, 1fr) 320px;
    }
  }

  @media (max-width: 1020px) {
    .dash-layout {
      height: auto;
      min-height: 100vh;
      width: 100%;
      grid-template-columns: 1fr;
      grid-template-rows: auto minmax(520px, 1fr) auto;
    }
  }

  .dash-section {
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    background: rgba(255, 255, 255, 0.02);
    padding: 12px;
  }

  .dash-section-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 10px;
  }

  .dash-kicker {
    font-size: 10px;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: rgba(148, 163, 184, 0.75);
    margin-bottom: 6px;
  }

  .dash-title {
    font-size: 14px;
    font-weight: 800;
    color: rgba(241, 245, 249, 0.92);
    line-height: 1.2;
  }

  .dash-title-row {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .dash-avatar {
    height: 36px;
    width: 36px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.10);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 18px 45px -35px rgba(0, 0, 0, 0.9);
    font-size: 18px;
  }

  .dash-subtitle {
    margin-top: 2px;
    font-size: 12px;
    color: rgba(148, 163, 184, 0.78);
  }

  .dash-chip {
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.10);
    background: rgba(255, 255, 255, 0.04);
    padding: 6px 10px;
    font-size: 12px;
    color: rgba(241, 245, 249, 0.9);
  }

  .dash-metrics {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }

  .dash-metric {
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    background: rgba(0, 0, 0, 0.18);
    padding: 10px;
  }

  .dash-metric-label {
    font-size: 11px;
    color: rgba(148, 163, 184, 0.85);
    margin-bottom: 4px;
  }

  .dash-metric-value {
    font-size: 14px;
    font-weight: 900;
    letter-spacing: 0.01em;
    font-variant-numeric: tabular-nums;
  }

  .dash-collapsible {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    background: rgba(0, 0, 0, 0.20);
    padding: 10px 12px;
    cursor: pointer;
    user-select: none;
  }

  .dash-collapsible-title {
    font-weight: 800;
    font-size: 12px;
    color: rgba(241, 245, 249, 0.9);
    letter-spacing: 0.02em;
    text-transform: uppercase;
  }

  .dash-collapsible-meta {
    font-size: 12px;
    color: rgba(148, 163, 184, 0.8);
  }

  .dash-collapsible-body {
    margin-top: 10px;
  }

  .dash-mini-header {
    font-size: 11px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: rgba(148, 163, 184, 0.75);
    margin-bottom: 8px;
  }

  .dash-mini-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .dash-mini-row {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, 0.06);
    background: rgba(255, 255, 255, 0.02);
    padding: 10px 12px;
  }

  .dash-mini-title {
    font-weight: 800;
    font-size: 12px;
    color: rgba(241, 245, 249, 0.92);
    line-height: 1.2;
  }

  .dash-mini-sub {
    margin-top: 3px;
    font-size: 11px;
    color: rgba(148, 163, 184, 0.78);
  }

  .dash-mini-right {
    text-align: right;
  }

  .dash-mini-value {
    font-variant-numeric: tabular-nums;
    font-weight: 900;
    font-size: 12px;
    color: rgba(241, 245, 249, 0.92);
  }

  .dash-divider {
    height: 1px;
    background: rgba(255, 255, 255, 0.06);
    margin: 12px 0;
  }

  .dash-empty {
    font-size: 12px;
    color: rgba(148, 163, 184, 0.78);
    padding: 10px 0;
  }

  .dash-market-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .dash-market-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, 0.06);
    background: rgba(255, 255, 255, 0.02);
    padding: 12px;
  }

  .region-cue {
    position: relative;
    --region-strip: transparent;
    --region-accent-rgb: 148 163 184;
  }

  .ui-modal.region-cue {
    position: fixed;
  }

  .region-cue::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    pointer-events: none;
    background: linear-gradient(90deg,
        transparent 0%,
        var(--region-strip) 18%,
        var(--region-strip) 82%,
        transparent 100%);
    opacity: 0.28;
    border-top-left-radius: inherit;
    border-top-right-radius: inherit;
  }

  [data-region='ASIA'] {
    --region-accent-rgb: 96 132 165;
    --region-strip: rgb(var(--region-accent-rgb));
  }

  [data-region='EUROPE'] {
    --region-accent-rgb: 132 120 160;
    --region-strip: rgb(var(--region-accent-rgb));
  }

  [data-region='AMERICAS'] {
    --region-accent-rgb: 112 148 120;
    --region-strip: rgb(var(--region-accent-rgb));
  }

  [data-region='AFRICA'] {
    --region-accent-rgb: 154 126 96;
    --region-strip: rgb(var(--region-accent-rgb));
  }

  [data-region='MIDDLE_EAST'] {
    --region-accent-rgb: 158 150 106;
    --region-strip: rgb(var(--region-accent-rgb));
  }

  [data-region='GLOBAL'] {
    --region-accent-rgb: 148 163 184;
    --region-strip: rgb(var(--region-accent-rgb));
  }

  .asset-detail-modal.region-cue::before {
    height: 8px;
    opacity: 0.55;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(var(--region-accent-rgb), 0.95) 14%,
        rgba(var(--region-accent-rgb), 0.95) 86%,
        transparent 100%);
  }

  .asset-detail-title {
    color: rgba(241, 245, 249, 0.94);
    text-shadow: 0 18px 60px rgba(var(--region-accent-rgb), 0.08);
  }

  .asset-detail-sub {
    color: rgba(var(--region-accent-rgb), 0.82);
  }

  .asset-detail-section {
    position: relative;
  }

  .asset-detail-section::before {
    content: '';
    position: absolute;
    left: 12px;
    right: 12px;
    top: 0;
    height: 1px;
    pointer-events: none;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(var(--region-accent-rgb), 0.22) 50%,
        transparent 100%);
    opacity: 0.9;
  }

  .asset-detail-section-title {
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }

  .asset-detail-section-dot {
    width: 6px;
    height: 6px;
    border-radius: 999px;
    background: rgba(var(--region-accent-rgb), 0.55);
    box-shadow: 0 14px 44px -24px rgba(var(--region-accent-rgb), 0.55);
    flex: 0 0 auto;
  }

  .asset-detail-modal .dash-action-primary.asset-detail-primary {
    border-color: rgba(var(--region-accent-rgb), 0.32);
  }

  .asset-detail-modal .dash-action-primary.asset-detail-primary:hover {
    border-color: rgba(var(--region-accent-rgb), 0.52);
    background: rgba(var(--region-accent-rgb), 0.08);
  }

  .asset-detail-modal .dash-action-primary.asset-detail-primary:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px rgba(var(--region-accent-rgb), 0.16);
  }

  .dash-market-name {
    font-weight: 900;
    font-size: 13px;
    color: rgba(241, 245, 249, 0.92);
  }

  .dash-market-sub {
    margin-top: 2px;
    font-size: 11px;
    color: rgba(148, 163, 184, 0.78);
  }

  .dash-market-right {
    text-align: right;
  }

  .dash-market-price {
    font-variant-numeric: tabular-nums;
    font-weight: 900;
    font-size: 15px;
    color: rgba(241, 245, 249, 0.92);
  }

  .dash-market-change {
    margin-top: 2px;
    font-variant-numeric: tabular-nums;
    font-weight: 800;
    font-size: 12px;
  }

  .dash-activity {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .dash-activity-row {
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, 0.06);
    background: rgba(255, 255, 255, 0.02);
    padding: 10px 12px;
  }

  .dash-activity-title {
    font-size: 12px;
    font-weight: 900;
    color: rgba(226, 232, 240, 0.92);
  }

  .dash-activity-meta {
    font-size: 11px;
    font-weight: 600;
    color: rgba(148, 163, 184, 0.75);
  }

  .dash-activity-msg {
    margin-top: 6px;
    font-size: 12px;
    color: rgba(148, 163, 184, 0.88);
    line-height: 1.35;
  }

  .dash-news {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .dash-news-card {
    position: relative;
    overflow: hidden;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.08), rgba(15, 23, 42, 0.55));
    padding: 12px 14px 14px;
  }

  .dash-news-card::after {
    content: '';
    position: absolute;
    inset: 0;
    opacity: 0.35;
    background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.14), transparent 50%),
      radial-gradient(circle at 80% 0%, rgba(14, 116, 144, 0.2), transparent 45%);
    pointer-events: none;
  }

  .dash-news-topline {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: rgba(148, 163, 184, 0.85);
  }

  .dash-news-round {
    font-weight: 700;
  }

  .dash-news-tag {
    border-radius: 999px;
    padding: 3px 8px;
    border: 1px solid rgba(255, 255, 255, 0.14);
    background: rgba(15, 23, 42, 0.4);
    font-weight: 700;
  }

  .dash-news-headline {
    position: relative;
    z-index: 1;
    margin-top: 8px;
    font-size: 15px;
    font-weight: 900;
    color: rgba(241, 245, 249, 0.95);
  }

  .dash-news-body {
    position: relative;
    z-index: 1;
    margin-top: 6px;
    font-size: 12px;
    line-height: 1.4;
    color: rgba(203, 213, 225, 0.9);
  }

  .dash-up {
    color: #22c55e;
  }

  .dash-down {
    color: #ef4444;
  }

  .dash-flat {
    color: rgba(148, 163, 184, 0.9);
  }

  .dash-player-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .dash-player-row {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    flex-wrap: wrap;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, 0.06);
    background: rgba(255, 255, 255, 0.02);
    padding: 10px 12px;
  }

  .dash-player-accent {
    position: absolute;
    left: 4px;
    top: 10px;
    bottom: 10px;
    width: 2px;
    border-radius: 999px;
    filter: blur(0px);
    opacity: 0.95;
    pointer-events: none;
  }

  .dash-player-active {
    border-color: rgba(255, 255, 255, 0.14);
    box-shadow: 0 22px 70px -70px rgba(0, 0, 0, 0.95);
  }

  .dash-player-bankrupt {
    opacity: 0.72;
  }

  .dash-player-left {
    min-width: 0;
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1 1 180px;
  }

  .dash-player-avatar {
    height: 34px;
    width: 34px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.10);
    background: rgba(0, 0, 0, 0.18);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    flex: 0 0 auto;
  }

  .dash-player-name-row {
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 0;
  }

  .dash-player-name {
    font-weight: 900;
    font-size: 12px;
    color: rgba(241, 245, 249, 0.92);
  }

  .dash-player-badge {
    flex: 0 0 auto;
    height: 18px;
    padding: 0 8px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.10);
    background: rgba(0, 0, 0, 0.20);
    font-size: 11px;
    font-weight: 800;
    color: rgba(226, 232, 240, 0.9);
    white-space: nowrap;
  }

  .dash-player-badge-dim {
    color: rgba(148, 163, 184, 0.95);
    border-color: rgba(255, 255, 255, 0.08);
  }

  .dash-player-sub {
    margin-top: 3px;
    font-size: 11px;
    color: rgba(148, 163, 184, 0.78);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .dash-player-right {
    display: grid;
    width: 100%;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    text-align: right;
    flex: 0 0 auto;
    box-sizing: border-box;
    padding-left: 44px;
  }

  .dash-player-stat {
    display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0;
  }

  .dash-player-stat-label {
    font-size: 11px;
    color: rgba(148, 163, 184, 0.82);
  }

  .dash-player-stat-value {
    font-variant-numeric: tabular-nums;
    font-weight: 900;
    font-size: 12px;
    color: rgba(241, 245, 249, 0.92);
    white-space: nowrap;
  }

  .board-ring {
    width: min(920px, 100%);
    aspect-ratio: 1 / 1;
    padding: 14px;
    box-sizing: border-box;
  }

  .board-ring-grid {
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-columns: repeat(9, minmax(0, 1fr));
    grid-template-rows: repeat(9, minmax(0, 1fr));
    gap: clamp(6px, 0.85vw, 10px);
  }

  .board-ring-cell {
    min-width: 0;
    min-height: 0;
  }

  .board-ring-center {
    grid-row: 2 / 9;
    grid-column: 2 / 9;
    border-radius: 18px;
    border: 1px dashed rgba(255, 255, 255, 0.08);
    background: rgba(255, 255, 255, 0.01);
    position: relative;
    overflow: hidden;
    isolation: isolate;
  }

  .board-ring-center::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    background:
      radial-gradient(closest-side at 50% 48%, rgba(255, 255, 255, 0.050) 0%, rgba(255, 255, 255, 0.015) 38%, rgba(0, 0, 0, 0.28) 100%),
      radial-gradient(closest-side at 50% 50%, rgba(255, 255, 255, 0.020) 0%, rgba(255, 255, 255, 0.000) 62%);
    opacity: 0.95;
  }

  .board-ring-center::after {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    background-image:
      repeating-linear-gradient(0deg, rgba(255, 255, 255, 0.020) 0px, rgba(255, 255, 255, 0.020) 1px, transparent 1px, transparent 4px),
      repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.014) 0px, rgba(255, 255, 255, 0.014) 1px, transparent 1px, transparent 5px);
    opacity: 0.08;
    mix-blend-mode: overlay;
  }

  .board-center {
    position: absolute;
    inset: 0;
    z-index: 1;
  }

  .board-center::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: 0;
    transition: opacity 160ms ease;
    background:
      radial-gradient(closest-side at 50% 54%, rgba(99, 102, 241, 0.16) 0%, rgba(99, 102, 241, 0.06) 36%, rgba(0, 0, 0, 0.0) 68%),
      radial-gradient(closest-side at 50% 46%, rgba(56, 189, 248, 0.10) 0%, rgba(56, 189, 248, 0.05) 28%, rgba(0, 0, 0, 0.0) 65%);
    filter: blur(0.1px);
  }

  @keyframes boardCenterPulse {
    0% {
      opacity: 0.45;
      transform: scale(0.995);
    }

    50% {
      opacity: 0.95;
      transform: scale(1.01);
    }

    100% {
      opacity: 0.55;
      transform: scale(0.998);
    }
  }

  .board-center-rolling::before {
    opacity: 1;
    animation: boardCenterPulse 860ms ease-in-out infinite;
  }

  @keyframes boardShakeY {
    0% {
      transform: translateY(0);
    }

    20% {
      transform: translateY(-4px);
    }

    45% {
      transform: translateY(2px);
    }

    70% {
      transform: translateY(-1px);
    }

    100% {
      transform: translateY(0);
    }
  }

  .board-shake-y {
    animation: boardShakeY 360ms ease-in-out;
    will-change: transform;
  }


  .asset-card {
    width: 100%;
    height: 100%;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.07);
    --asset-card-bg: rgba(255, 255, 255, 0.03);
    background: var(--asset-card-bg);
    box-shadow: 0 18px 60px -54px rgba(0, 0, 0, 0.95);
    padding: 10px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    gap: 8px;
    text-align: center;
    align-items: center;
    overflow: hidden;
  }

  .asset-card-clickable {
    cursor: pointer;
    transition: transform 140ms ease, border-color 140ms ease, background 140ms ease, box-shadow 140ms ease;
  }

  .asset-card-clickable:hover {
    --asset-card-bg: rgba(255, 255, 255, 0.045);
    border-color: rgba(255, 255, 255, 0.14);
    transform: translateY(-1px);
  }

  .asset-card-active {
    box-shadow:
      0 18px 70px -56px rgba(0, 0, 0, 0.95),
      0 0 0 1px rgba(241, 245, 249, 0.16) inset;
    border-color: rgba(241, 245, 249, 0.18);
  }

  .asset-card-selected {
    border-color: rgba(148, 163, 184, 0.30);
    box-shadow:
      0 18px 70px -56px rgba(0, 0, 0, 0.95),
      0 0 0 1px rgba(148, 163, 184, 0.22) inset;
  }

  .asset-card-top {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 10px;
  }

  .asset-card-name {
    font-size: 12px;
    font-weight: 900;
    color: rgba(241, 245, 249, 0.92);
    letter-spacing: 0.01em;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .asset-card-meta {
    margin-top: 2px;
    font-size: 11px;
    color: rgba(148, 163, 184, 0.78);
  }

  .asset-card-corner-stack {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .asset-card-dot {
    width: 9px;
    height: 9px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 10px 30px -22px rgba(0, 0, 0, 0.9);
  }

  .asset-card-count {
    height: 18px;
    min-width: 18px;
    padding: 0 6px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.10);
    background: rgba(0, 0, 0, 0.20);
    font-size: 11px;
    font-weight: 800;
    color: rgba(226, 232, 240, 0.9);
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .asset-card-bottom {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 10px;
    min-width: 0;
  }

  .asset-card-price {
    font-variant-numeric: tabular-nums;
    font-weight: 900;
    font-size: 12px;
    color: rgba(241, 245, 249, 0.92);
    min-width: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .asset-card-change {
    font-variant-numeric: tabular-nums;
    font-weight: 900;
    font-size: 11px;
    white-space: nowrap;
    flex: 0 0 auto;
  }

  .turn-controls {
    position: absolute;
    bottom: 16px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    pointer-events: auto;
  }

  .turn-controls-hint {
    font-size: 12px;
    color: rgba(148, 163, 184, 0.82);
    text-align: center;
  }

  /* 관전 모드 스타일 */
  .turn-controls-spectate {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 16px 24px;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.10);
    background: rgba(0, 0, 0, 0.40);
    backdrop-filter: blur(8px);
  }

  .spectate-dice-animation {
    display: flex;
    gap: 8px;
  }

  .spectate-dice {
    font-size: 32px;
    animation: spectateDiceShake 0.3s ease-in-out infinite;
  }

  .spectate-dice.delay {
    animation-delay: 0.15s;
  }

  @keyframes spectateDiceShake {

    0%,
    100% {
      transform: rotate(-15deg);
    }

    50% {
      transform: rotate(15deg);
    }
  }

  .spectate-text {
    font-size: 14px;
    font-weight: 600;
    color: rgba(241, 245, 249, 0.90);
  }

  .dice-result {
    font-size: 16px;
    font-weight: 900;
    color: #22c55e;
  }

  .turn-controls-waiting {
    padding: 12px 20px;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    background: rgba(0, 0, 0, 0.30);
    font-size: 13px;
    color: rgba(148, 163, 184, 0.85);
  }

  .dash-btn {
    height: 46px;
    min-width: 240px;
    padding: 0 16px;
    border-radius: 16px;
    font-weight: 900;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    font-size: 12px;
    transition: transform 140ms ease, background 140ms ease, border-color 140ms ease, box-shadow 140ms ease;
  }

  .dash-btn-primary {
    border: 1px solid rgba(255, 255, 255, 0.16);
    background: rgba(255, 255, 255, 0.06);
    color: rgba(241, 245, 249, 0.92);
    box-shadow: 0 24px 70px -60px rgba(0, 0, 0, 0.95);
  }

  .dash-btn-primary:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(255, 255, 255, 0.22);
    transform: translateY(-1px);
  }

  .dash-btn-holding {
    background: rgba(255, 255, 255, 0.10);
    border-color: rgba(255, 255, 255, 0.26);
    transform: translateY(1px) scale(0.99);
    box-shadow:
      0 18px 60px -54px rgba(0, 0, 0, 0.95),
      0 0 0 1px rgba(241, 245, 249, 0.10) inset;
  }

  .dash-btn-disabled {
    border: 1px solid rgba(255, 255, 255, 0.10);
    background: rgba(255, 255, 255, 0.03);
    color: rgba(148, 163, 184, 0.75);
  }

  .dash-btn-result {
    border-color: rgba(34, 197, 94, 0.35);
    background: rgba(34, 197, 94, 0.15);
    color: #22c55e;
    transform: scale(1.02);
    box-shadow: 0 0 20px -8px rgba(34, 197, 94, 0.4);
  }

  .dash-btn:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 4px rgba(99, 102, 241, 0.18),
      0 24px 70px -60px rgba(0, 0, 0, 0.95);
  }

  .dash-action {
    height: 44px;
    padding: 0 14px;
    border-radius: 14px;
    font-weight: 800;
    font-size: 13px;
    border: 1px solid rgba(255, 255, 255, 0.12);
    background: rgba(255, 255, 255, 0.04);
    color: rgba(241, 245, 249, 0.92);
    transition: transform 140ms ease, background 140ms ease, border-color 140ms ease;
  }

  .dash-action:hover {
    background: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 255, 255, 0.16);
    transform: translateY(-1px);
  }

  .dash-action:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }

  .dash-action-secondary {
    border-color: rgba(255, 255, 255, 0.10);
    background: rgba(0, 0, 0, 0.18);
  }

  .dash-action-primary {
    border-color: rgba(255, 255, 255, 0.16);
    background: rgba(255, 255, 255, 0.07);
  }

  .dash-action-danger {
    border-color: rgba(239, 68, 68, 0.22);
    background: rgba(239, 68, 68, 0.10);
  }

  .dash-action-success {
    border-color: rgba(34, 197, 94, 0.20);
    background: rgba(34, 197, 94, 0.10);
  }

  .dash-action:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.18);
  }

  @keyframes diceRollSpin {
    0% {
      transform: translate(-50%, -50%) scale(1.00) rotate(0deg);
    }

    50% {
      transform: translate(-50%, -50%) scale(1.04) rotate(180deg);
    }

    100% {
      transform: translate(-50%, -50%) scale(1.00) rotate(360deg);
    }
  }

  @keyframes diceRowShake {
    0% {
      transform: translate(0px, 0px) rotate(-1.2deg);
    }

    25% {
      transform: translate(1px, -1px) rotate(1.2deg);
    }

    50% {
      transform: translate(0px, 1px) rotate(-0.8deg);
    }

    75% {
      transform: translate(-1px, -1px) rotate(0.8deg);
    }

    100% {
      transform: translate(0px, 0px) rotate(-1.2deg);
    }
  }

  @keyframes diceFacePulse {
    0% {
      transform: scale(1.00);
    }

    100% {
      transform: scale(1.045);
    }
  }

  @keyframes diceSettle {
    0% {
      transform: scale(1.10);
    }

    100% {
      transform: scale(1.00);
    }
  }

  .dice-roller {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }

  .dice-roller-rolling {
    animation: diceRollSpin 650ms linear infinite;
  }

  .dice-roller-holding {
    animation: diceRollSpin 720ms linear infinite;
  }

  .dice-roller-settling {
    animation: diceRollSpin 900ms linear infinite;
  }

  .dice-row {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .dice-row-rolling {
    animation: diceRowShake 110ms ease-in-out infinite;
  }

  .dice-row-rolling .dice-face {
    animation: diceFacePulse 220ms ease-in-out infinite alternate;
  }

  .dice-row-settle .dice-face {
    animation: diceSettle 240ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  .dice-face {
    width: 54px;
    height: 54px;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.12);
    background: rgba(0, 0, 0, 0.30);
    box-shadow: 0 26px 80px -60px rgba(0, 0, 0, 0.95);
    display: grid;
    place-items: center;
    font-size: 18px;
    font-weight: 900;
    font-variant-numeric: tabular-nums;
    color: rgba(241, 245, 249, 0.92);
  }

  .dice-meta {
    font-size: 12px;
    color: rgba(148, 163, 184, 0.78);
    height: 16px;
  }
}

html,
body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

#root {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  overflow-y: auto;
}

body {
  font-family: 'Pretendard', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
    sans-serif;
  background-color: #03030a;
}

/* [Merge Note] 2026-01-27: Added Character Piece and Overlay Styles */
/* Character Piece Styles */
.board-ring-overlay {
  position: absolute;
  inset: 0;
  display: grid;
  grid-template-columns: repeat(9, minmax(0, 1fr));
  grid-template-rows: repeat(9, minmax(0, 1fr));
  gap: clamp(6px, 0.85vw, 10px);
  pointer-events: none;
  /* Let clicks pass through to tiles */
  z-index: 10;
}

.character-token-wrapper {
  position: relative;
  display: flex;
  /* Allow multiple chars to sit in one cell? */
  align-items: center;
  justify-content: center;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  /* Smooth grid movement */
}

/* Offset slightly if multiple players? We can handle that in JS or CSS. 
   For now, just centering. */

.character-piece-body {
  transform: rotateX(-15deg);
  /* Slight tilt for "standing" look if parent preserves 3d */
  transform-origin: bottom center;
}

